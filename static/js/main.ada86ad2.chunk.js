(this["webpackJsonpget-to-know-you"]=this["webpackJsonpget-to-know-you"]||[]).push([[0],{12:function(e,t,n){},13:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var c,r,a=n(1),o=n.n(a),s=n(5),i=n.n(s),u=(n(12),n(13),n(4)),h=n(3),l=n.n(h),j=n(6);c="www.stephenvnelson.com",r="wws://";var b="".concat("https","://").concat(c);function d(e,t){return fetch("".concat(b,"/users"),{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"https://stephenvnelson.github.io/get-to-know-you/"},body:JSON.stringify({user:{name:e,birthday:t}})}).then((function(e){return e.json()})).then((function(e){return localStorage.setItem("userName",e.name),localStorage.setItem("userBirthday",e.birthday),e}))}var m=n(0),f=function(e){var t=e.changeUserName,n=e.changeUserBirthday,c=function(){var e=Object(j.a)(l.a.mark((function e(c){var r,a,o,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),r=c.target.elements,a=r.name,o=r.birthday,e.next=4,d(a.value,o.value);case 4:s=e.sent,t(s.name),n(s.birthday);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{children:[Object(m.jsx)("span",{children:"Join the game!"}),Object(m.jsxs)("form",{onSubmit:c,children:[Object(m.jsx)("label",{htmlFor:"name",children:"Name"}),Object(m.jsx)("input",{type:"text",name:"name"}),Object(m.jsx)("label",{htmlFor:"birthday",children:" Birth Year"}),Object(m.jsx)("input",{type:"text",name:"birthday"}),Object(m.jsx)("button",{children:"Join"})]})]})},g=n(7),O=n.n(g).a.createConsumer("".concat(r).concat(c,"/connect"));var p=function(){return Object(a.useEffect)((function(){O.subscriptions.create({channel:"GameChannel"},{received:function(e){console.log("received",e)}})}),[]),Object(m.jsx)("div",{children:"Play games"})},v=function(){var e=Object(a.useState)(localStorage.getItem("userName")),t=Object(u.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(localStorage.getItem("userBirthday")),o=Object(u.a)(r,2),s=o[0],i=o[1];Object(a.useEffect)((function(){n||s||console.log("No user credentials!")}),[]);var h=n?Object(m.jsx)(p,{}):Object(m.jsx)(f,{changeUserName:c,changeUserBirthday:i});return Object(m.jsx)("div",{children:h})};var y=function(){return Object(m.jsx)(v,{})},x=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,17)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),c(e),r(e),a(e),o(e)}))};i.a.render(Object(m.jsx)(o.a.StrictMode,{children:Object(m.jsx)(y,{})}),document.getElementById("root")),x()}},[[16,1,2]]]);
//# sourceMappingURL=main.ada86ad2.chunk.js.map